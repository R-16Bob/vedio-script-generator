# 基于LangChain的视频脚本生成器

## 项目简介
视频脚本生成器是一个基于LangChain和Streamlit的Web应用，旨在帮助用户快速生成高质量的视频脚本。通过输入视频的主题、时长和创造力参数，该工具能够利用大语音模型自动生成吸引人的视频标题和脚本内容。

## 功能特点

- **自定义视频主题**：用户可以自由输入视频的主题，如“呼啸山庄”、“人工智能的发展”等。
- **灵活控制视频时长**：支持用户指定视频的预期时长，生成的脚本将尽量符合这一要求。
- **创造力调节**：通过滑动条调整创造力参数，用户可以选择生成内容的风格，从严谨到多样化。
- **支持多种语言模型**: 该工具支持基于OpenAI API的模型，默认是性价比最高的gpt-4o-mini；同时也支持Ollama本地部署的模型，为你节省Token成本。
- **流式输出**: 生成的脚本采用流式输出的方式，用户可以实时看到生成的进度和结果，再也不需要等待生成完成啦。
- **集成维基百科信息**：（可选功能，当前未启用）脚本生成过程中可以结合维基百科的相关信息，增强内容的准确性和丰富度。

## 使用方法

### 安装依赖

首先，请运行以下命令以安装项目所需的依赖：
```bash
conda env create -f environment.yml
```
### 模型配置

1. 如果要使用基于API KEY的OpenAI语言模型，您需要设置`OPENAI_API_KEY`环境变量。我目前使用的不是官方的OpenAI API，而是使用了base_url，如果您使用的是官方的OpenAI API，您可以在utils.py中修改相关代码。
2. 如果要使用本地部署的模型，请自行安装[Ollama](https://ollama.com/)并下载模型。
### 运行应用

安装完所有依赖并配置好环境变量后，您可以启动Streamlit应用：
```cmd
streamlit run main.py
```
打开浏览器，访问`http://localhost:8501`，您将看到视频脚本生成器的界面。按照界面上的提示操作，输入视频的主题、时长和创造力参数，点击“生成脚本”按钮，即可看到生成的视频标题和脚本内容。

## 注意事项

- 确保您的OpenAI API密钥有效且未过期。
- 生成的脚本仅供参考，建议根据实际情况进行适当修改和完善。
- 当前版本中，维基百科信息集成功能暂时未启用，后续版本可能会加入此功能。

## 贡献

欢迎贡献代码或提出改进建议！如果您有任何问题或建议，请随时提交Issue或Pull Request。

